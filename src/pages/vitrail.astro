---
//pages/vitrail.astro

import fetchApi from "../lib/strapi";
import Layout from "../layouts/Layout.astro";
import VitrailList from "../layouts/projects-lists/Vitrail-list.jsx";

const vitraux = await fetchApi({
  endpoint: "vitrails?populate=*",
  wrappedByKey: "data",
  locale: "fr",
});

export const prerender = true;
---

<Layout title="Vitrail" showReturn returnTo="">
  <main>
    <VitrailList
      targetHref="/"
      dataVitrails={vitraux}
      isOnVitrailPage={true}
      transition:name="vitrailist"
      transition:persist
      client:load
    />
  </main>
</Layout>
